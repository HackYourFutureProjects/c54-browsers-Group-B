@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

/* ========== Theme Variables ========== */
:root {
  --green-50: #f1f8e9;
  --green-100: #e8f5e9;
  --green-200: #c8e6c9;
  --green-300: #a5d6a7;
  --green-400: #81c784;
  --green-500: #66bb6a; /* primary accent */
  --green-600: #43a047; /* primary button */
  --green-700: #2e7d32; /* deep salad */
  --accent-yellow: #ffeb3b;
  --text-strong: #eaf7ea;
  --text-muted: #cfe8d0;
  --glass-bg: rgba(255, 255, 255, 0.08);
  --glass-border: rgba(255, 255, 255, 0.20);
  --glass-shadow: 0 20px 60px rgba(0, 0, 0, 0.35), 0 2px 10px rgba(0, 0, 0, 0.25);

  /* Dynamic gradient (JS updates --bg-gradient) */
  --bg-gradient: linear-gradient(135deg, #2e7d32 0%, #43a047 50%, #66bb6a 100%);
}

/* ========== Global Layout ========== */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html, body {
  height: 100%;
}

body {
  margin: 0;
  font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, 'Helvetica Neue', Arial, sans-serif;
  color: var(--text-strong);
  display: grid;
  place-items: center;
  background-image: var(--bg-gradient);
  background-attachment: fixed;
  background-size: 200% 200%;
  animation: bgFloat 22s ease-in-out infinite;
  transition: background-image 800ms ease;
  overflow: hidden;
}

/* Subtle decorative vignette for depth */
body::after {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(1000px 600px at 10% 10%, rgba(255,255,255,0.06), transparent 60%),
              radial-gradient(900px 500px at 90% 90%, rgba(0,0,0,0.18), transparent 65%);
}

/* Centered quiz card (glassmorphism) */
.centered {
  width: min(92vw, 720px);
  max-height: min(86vh, 900px);
  overflow: hidden;
  backdrop-filter: blur(14px) saturate(120%);
  -webkit-backdrop-filter: blur(14px) saturate(120%);
  background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06));
  border: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow);
  border-radius: 22px;
  padding: clamp(18px, 5vw, 28px);
  transform: translateY(0);
  animation: cardEnter 640ms cubic-bezier(.2,.75,.25,1) both;
}

/* Page container interior scroll area if needed */
.scrollable {
  max-height: 60vh;
  overflow-y: auto;
  scrollbar-gutter: stable;
  margin-bottom: 1rem;
}

/* ========== Typography ========== */
h1 {
  margin: 0 0 14px;
  font-weight: 700;
  letter-spacing: 0.3px;
  font-size: clamp(1.6rem, 3.5vw, 2.2rem);
  color: var(--text-strong);
  text-shadow: 0 1px 0 rgba(0,0,0,0.35);
  position: relative;
  line-height: 1.2;
}

/* Salad leaf flair */
h1::before {
  content: 'ðŸ¥—';
  margin-right: 10px;
  filter: drop-shadow(0 2px 2px rgba(0,0,0,0.25));
  transform: translateY(1px) rotate(-8deg);
  display: inline-block;
}

p {
  color: var(--text-muted);
  margin: 0 0 16px;
  line-height: 1.55;
}

/* ========== Inputs ========== */
input[type="text"],
input[type="search"],
input[type="email"] {
  width: 100%;
  padding: 14px 16px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.18);
  background: linear-gradient(180deg, rgba(255,255,255,0.14), rgba(255,255,255,0.06));
  color: var(--text-strong);
  outline: none;
  transition: transform 160ms ease, box-shadow 200ms ease, border-color 200ms ease;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.08), 0 1px 0 rgba(0,0,0,0.15);
  margin: 10px 0 6px;
}

input::placeholder {
  color: rgba(255,255,255,0.55);
}

input:focus {
  transform: translateY(-1px) scale(1.02);
  border-color: rgba(102, 187, 106, 0.7);
  box-shadow: 0 0 0 6px rgba(102,187,106,0.12), 0 14px 30px rgba(0,0,0,0.25);
}

/* ========== Answer List ========== */
ul {
  list-style: none;
  padding: 0;
  margin: 16px 0 0;
  display: grid;
  gap: 10px;
}

ul li {
  position: relative;
  border-radius: 14px;
  padding: 12px 14px;
  background: linear-gradient(135deg, #fff59d, #fff176); /* Lemon yellow base */
  border: 1px solid rgba(255,255,255,0.20);
  color: #3e2723; /* dark for contrast on lemon */
  cursor: pointer;
  user-select: none;
  font-weight: 600;
  letter-spacing: 0.25px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.25);
  transition: transform 140ms ease, box-shadow 180ms ease, background 240ms ease, filter 200ms ease;
  will-change: transform;
}

ul li:hover {
  background: linear-gradient(135deg, #ffeb3b, #ffee58); /* brighter lemon on hover */
  transform: translateY(-2px) scale(1.015) rotate(-0.25deg);
  box-shadow: 0 10px 24px rgba(255,235,59,0.35);
  filter: brightness(1.04);
}

ul li:active {
  transform: translateY(0) scale(0.99);
}

/* Show check/cross icons when inline colors are applied by logic */
ul li[style*="green"]::after,
ul li[style*="red"]::after {
  content: attr(data-badge);
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 18px;
}

ul li[style*="green"] {
  /* Harmonize inline green with our theme, keep logic intact */
  background: linear-gradient(180deg, rgba(46,125,50,0.9), rgba(67,160,71,0.85)) !important;
  border-color: rgba(102,187,106,0.75);
  box-shadow: 0 0 0 2px rgba(102,187,106,0.35), 0 16px 34px rgba(46,125,50,0.45);
}

ul li[style*="green"]::after {
  content: 'âœ“';
  color: #e8f5e9;
  text-shadow: 0 1px 0 rgba(0,0,0,0.6);
}

ul li[style*="red"] {
  background: linear-gradient(180deg, rgba(244,67,54,0.85), rgba(211,47,47,0.85)) !important;
  border-color: rgba(244,67,54,0.6);
  box-shadow: 0 0 0 2px rgba(244,67,54,0.25), 0 16px 34px rgba(211,47,47,0.35);
}

ul li[style*="red"]::after {
  content: 'âœ•';
  color: #fff3f3;
  text-shadow: 0 1px 0 rgba(0,0,0,0.6);
}

/* ========== Buttons ========== */
button {
  --btn-bg: linear-gradient(135deg, var(--green-600), var(--green-500));
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  margin-top: 14px;
  padding: 12px 18px;
  font-size: 15px;
  font-weight: 700;
  color: #0b1e0b;
  background: var(--btn-bg);
  background-size: 140% 140%;
  border: none;
  border-radius: 14px;
  cursor: pointer;
  text-transform: capitalize;
  box-shadow: 0 6px 20px rgba(46,125,50,0.45), inset 0 1px 0 rgba(255,255,255,0.25);
  transition: transform 160ms ease, box-shadow 220ms ease, background-position 260ms ease, filter 200ms ease;
}

button::before {
  content: 'ðŸŒ¿';
  font-size: 16px;
  transform: translateY(1px) rotate(-10deg);
}

button:hover {
  background-position: 100% 0%;
  transform: translateY(-2px) rotate(-0.35deg) scale(1.02);
  box-shadow: 0 14px 32px rgba(46,125,50,0.55), inset 0 1px 0 rgba(255,255,255,0.3);
  filter: saturate(1.05);
}

button:active {
  transform: translateY(0) scale(0.98);
}

/* Emphasize primary actions by id (available from constants) */
#start-quiz-button {
  --btn-bg: linear-gradient(135deg, var(--green-600), var(--green-500));
}
#next-question-button {
  --btn-bg: linear-gradient(135deg, #66bb6a, #43a047);
}
#avoid-question-button {
  --btn-bg: linear-gradient(135deg, #a5d6a7, #66bb6a);
  color: #0a1c0a;
}
#restart-quiz-button {
  --btn-bg: linear-gradient(135deg, #ffeb3b, #a5d6a7);
  color: #163516;
}

/* ========== Micro-interactions: Ripple ========== */
.ripple {
  position: absolute;
  pointer-events: none;
  border-radius: 999px;
  transform: scale(0);
  opacity: 0.6;
  background: radial-gradient(circle closest-side, rgba(255,255,255,0.45), rgba(255,255,255,0) 70%);
  animation: ripple 650ms ease-out forwards;
  mix-blend-mode: screen;
}

/* ========== Page Transition Helpers ========== */
.fade-in {
  animation: fadeInUp 420ms cubic-bezier(.2,.75,.25,1) both;
}
.fade-out {
  animation: fadeOutDown 320ms ease both;
}

/* ========== End Page ========== */
.end-page {
  text-align: center;
}

.end-page h1::before {
  content: 'ðŸ¥¬';
  margin-right: 10px;
  transform: translateY(1px) rotate(-6deg);
}

/* ========== Scrollbar Styling ========== */
.scrollable::-webkit-scrollbar,
.centered::-webkit-scrollbar {
  width: 10px;
}
.scrollable::-webkit-scrollbar-track,
.centered::-webkit-scrollbar-track {
  background: rgba(255,255,255,0.06);
  border-radius: 999px;
}
.scrollable::-webkit-scrollbar-thumb,
.centered::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, rgba(102,187,106,0.6), rgba(67,160,71,0.6));
  border-radius: 999px;
  border: 2px solid rgba(255,255,255,0.15);
}

/* ========== Responsive ========== */
@media (max-width: 520px) {
  .centered {
    padding: 16px;
  }
  button {
    width: 100%;
    justify-content: center;
  }
}

/* ========== Keyframes ========== */
@keyframes bgFloat {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes cardEnter {
  0% { transform: translateY(12px) scale(0.985); opacity: 0; }
  60% { transform: translateY(-2px) scale(1.005); opacity: 1; }
  100% { transform: translateY(0) scale(1); }
}

@keyframes fadeInUp {
  0% { opacity: 0; transform: translateY(10px) scale(0.995); }
  100% { opacity: 1; transform: translateY(0) scale(1); }
}

@keyframes fadeOutDown {
  0% { opacity: 1; transform: translateY(0) scale(1); }
  100% { opacity: 0; transform: translateY(6px) scale(0.995); }
}

@keyframes ripple {
  to { transform: scale(1); opacity: 0; }
}

/* Gentle animated salad gradient shift */
@keyframes saladShift {
  0%   { background-position: 0% 50%; }
  50%  { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Soft up/down float for the glass card */
@keyframes cardFloat {
  0%   { transform: translateY(0); }
  100% { transform: translateY(-8px); }
}

/* ===== Light Surface Overrides (when background is very light/near white) ===== */
body.light-surface h1 {
  color: #000;           /* Make question title text black for contrast */
  text-shadow: none;     /* Remove shadow on light bg */
}

body.light-surface button {
  color: #000 !important;  /* Make all button labels black for contrast */
  text-shadow: none;
}

/* ===== Next button error state and shake feedback (appended) ===== */
.btn-error {
  background: linear-gradient(135deg, #f44336, #e53935) !important;
  color: #fff !important;
  box-shadow: 0 8px 20px rgba(244, 67, 54, 0.4) !important;
}
.btn-error:hover {
  background: linear-gradient(135deg, #ef5350, #e53935) !important;
  transform: translateY(-2px) rotate(0deg);
  box-shadow: 0 10px 25px rgba(244, 67, 54, 0.45) !important;
}
.shake {
  animation: incorrectShake 0.45s ease;
}


/* ===== Salad Quiz Landing Page (scoped, non-destructive) ===== */
.landing {
  position: relative;
  min-height: 100vh;              /* Full viewport height */
  display: flex;                  /* Center content */
  align-items: center;
  justify-content: center;
  isolation: isolate;             /* Card shadows above background layers */
  margin: 0;
  padding: 0;
}

/* Vertical gradient background from #4CAF50 to #2E7D32 with subtle animated shift */
.landing::before {
  content: '';
  position: fixed;
  inset: 0;
  z-index: -1;
  background: linear-gradient(to bottom, #4CAF50 0%, #2E7D32 100%);
  background-size: 200% 200%;
  animation: saladShift 28s ease-in-out infinite;
}

/* Subtle depth behind the card (spotlight + faint â€œnoiseâ€ speckles) */
.landing::after {
  content: '';
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  background:
    radial-gradient(800px 500px at 20% 10%, rgba(255,255,255,0.06), transparent 60%),
    radial-gradient(900px 600px at 80% 90%, rgba(0,0,0,0.18), transparent 65%),
    repeating-linear-gradient(0deg, rgba(255,255,255,0.015) 0, rgba(255,255,255,0.015) 1px, transparent 1px, transparent 2px); /* ultra subtle grain */
}

/* Main card container with glassmorphism */
.landing .card {
  width: clamp(400px, 90vw, 500px);        /* 400-500px responsive range */
  padding: 40px;                           /* Required padding */
  border-radius: 20px;                     /* Rounded corners */
  background: rgba(255, 255, 255, 0.10);   /* Glass background */
  border: 1px solid rgba(255, 255, 255, 0.18);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow: 0 8px 32px rgba(0,0,0,0.37); /* Subtle shadow */
  position: relative;
  z-index: 1;                              /* keep card above floating emojis */
  text-align: center;
  color: #fff;
  /* Gentle floating drift for the whole card */
  animation: cardFloat 7s ease-in-out infinite alternate;
}

/* Floating lettuce icons at top-center, overlapping the card */
.landing .float-icons {
  position: fixed;                       /* cover entire viewport */
  inset: 0;
  transform: none;
  display: block;
  pointer-events: none;
  z-index: 0;
}

.landing .float-icons .icon {
  font-size: 24px;                       /* ~24px as requested */
  line-height: 1;
  /* Randomized gentle drift using CSS variables set in JS */
  animation-name: leafRandom;
  animation-duration: var(--dur, 2s);
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-delay: var(--delay, 0s);     /* 0s, .5s, 1s stagger via inline style */
  filter: drop-shadow(0 2px 2px rgba(0,0,0,0.25));
}

/* Random drift path using per-icon variables:
   Position: --x1/--y1, --x2/--y2
   Rotation: --r0/--r1/--r2 (deg)
   Scale:    --s0/--s1/--s2
*/
@keyframes leafRandom {
  0%   { transform: translate(0px, 0px) rotate(var(--r0, 0deg))  scale(var(--s0, 1));    }
  33%  { transform: translate(var(--x1, 0px), var(--y1, -10px)) rotate(var(--r1, 8deg))  scale(var(--s1, 1.06)); }
  66%  { transform: translate(var(--x2, 0px), var(--y2, 8px))   rotate(var(--r2, -8deg)) scale(var(--s2, 0.96)); }
  100% { transform: translate(0px, 0px) rotate(var(--r0, 0deg))  scale(var(--s0, 1));    }
}

/* Title: white, bold, Arial, size 32px, centered, with emojis inline */
.landing .title {
  margin: 10px 0 16px;
  font-family: Arial, Helvetica, sans-serif;
  font-weight: 700;
  font-size: 32px;
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

/* Professional entrance + parallax tilt for the welcome card */
.landing .card {
  transform-style: preserve-3d;
  --rx: 0deg;
  --ry: 0deg;
  --mx: 50%;
  --my: 0%;
  transform: perspective(1000px) rotateX(var(--ry)) rotateY(var(--rx)) translateY(12px) scale(0.98);
  opacity: 0;
  transition:
    transform 600ms cubic-bezier(.2,.75,.25,1),
    box-shadow 600ms cubic-bezier(.2,.75,.25,1),
    opacity 500ms ease;
}

/* when JS adds .enter on mount */
.landing .card.enter {
  transform: perspective(1000px) rotateX(var(--ry)) rotateY(var(--rx)) translateY(0) scale(1);
  opacity: 1;
}

/* Subtle sheen and salad-themed overlay reacting to mouse */
.landing .card::after {
  content: '';
  position: absolute;
  inset: -1px;
  pointer-events: none;
  border-radius: 20px;
  background:
    linear-gradient(120deg, rgba(255,255,255,0.08), rgba(255,255,255,0)),
    radial-gradient(600px 300px at var(--mx, 50%) var(--my, 0%), rgba(255,255,255,0.06), rgba(255,255,255,0) 60%);
  transition:
    background-position 200ms ease,
    opacity 300ms ease;
  opacity: 0.9;
}

/* Lift and subtle emphasis on hover */
.landing .card:hover {
  box-shadow: 0 14px 34px rgba(0,0,0,0.42);
}

.landing .title .t-emoji {
  font-size: 32px;                        /* Larger lettuce emoji before "Welcome" */
  transform: translateY(2px) rotate(-6deg);
  filter: drop-shadow(0 2px 2px rgba(0,0,0,0.25));
}

/* Input field: centered, 80% width, rounded, semi-transparent */
.landing #user-name-input {
  width: 80%;
  margin: 20px auto 0;                    /* Margin below title */
  display: block;
  padding: 12px;
  border-radius: 20px;
  border: none;
  outline: none;
  background: rgba(255,255,255,0.2);
  color: #fff;
  text-align: center;
  font-size: 16px;
}

.landing #user-name-input::placeholder {
  color: rgba(255,255,255,0.7);
}

/* Button: centered, green, rounded, hover darken */
.landing #start-quiz-button {
  margin: 20px auto 0;                    /* Margin below input */
  display: inline-block;
  padding: 12px 40px;
  border-radius: 20px;
  background: #4CAF50;
  color: #fff;
  font-size: 16px;
  border: none;
  cursor: pointer;
  transition:
    background 0.3s ease,
    transform 0.2s ease,
    box-shadow 0.3s ease;
  box-shadow: 0 8px 22px rgba(76,175,80,0.35);
}

/* subtle pulse to invite interaction */
@keyframes btnPulse {
  0%, 100% { transform: translateY(0); box-shadow: 0 8px 22px rgba(76,175,80,0.35); }
  50%      { transform: translateY(-1px); box-shadow: 0 10px 26px rgba(76,175,80,0.42); }
}

.landing #start-quiz-button:hover {
  background: #388E3C;                    /* Darken on hover */
  transform: translateY(-2px);
  box-shadow: 0 12px 28px rgba(56,142,60,0.45);
}

.landing #start-quiz-button:focus-visible {
  outline: 2px solid rgba(255,255,255,0.7);
  outline-offset: 3px;
}

.landing #start-quiz-button:active {
  transform: translateY(0);
}


/* Responsive title size on very small screens */
@media (max-width: 480px) {
  .landing .title {
    font-size: 26px;
  }
  .landing .title .t-emoji {
    font-size: 28px;
  }
}

/* ===== Question Page Theming (salad backgrounds + contrast) ===== */
body.question-surface #user-interface h1,
body.question-surface #user-interface button {
  color: #fff !important;    /* keep title and buttons white on question pages */
  text-shadow: none;
}

body.question-surface #user-interface ul li {
  color: #000 !important;    /* answers back to black by request */
}

/* If the chosen background is very light (lemon/near white), switch to black text */
body.question-surface.question-light #user-interface h1,
body.question-surface.question-light #user-interface ul li,
body.question-surface.question-light #user-interface button {
  color: #000 !important;    /* improve readability on light backgrounds */
}

/* ===== Salad Quiz Landing Hero Enhancements (fresh, modern, fun) ===== */

/* Subtitle under the hero title */
.landing .subtitle {
  color: var(--text-muted);
  margin: -4px 0 8px;
  font-weight: 400;
  letter-spacing: 0.2px;
}

/* Three floating lettuce leaves above the title */
.landing .leaves {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  height: 28px;
  margin: 2px 0 6px;
  pointer-events: none;
}

.landing .leaves .leaf {
  display: inline-block;
  line-height: 1;
  filter: drop-shadow(0 2px 2px rgba(0,0,0,0.25));
  transform-origin: center bottom;
  animation: leafBob var(--dur, 3s) ease-in-out infinite;
  will-change: transform;
}

@keyframes leafBob {
  0%, 100% { transform: translateY(0); }
  50%      { transform: translateY(-8px); }
}

/* Background particles/waves layer for subtle healthy vibes */
.bg-particles {
  position: fixed;
  inset: 0;
  z-index: 0;                /* Below card (z=1) but above ::before/::after (z=-1) */
  pointer-events: none;
  opacity: 0.55;
  mix-blend-mode: soft-light;
  background:
    radial-gradient(6px 6px at 12% 22%, rgba(255,255,255,0.10), transparent 60%),
    radial-gradient(8px 8px at 28% 78%, rgba(255,255,255,0.09), transparent 60%),
    radial-gradient(5px 5px at 68% 30%, rgba(255,255,255,0.10), transparent 60%),
    radial-gradient(7px 7px at 88% 62%, rgba(255,255,255,0.11), transparent 60%),
    radial-gradient(6px 6px at 42% 12%, rgba(255,255,255,0.08), transparent 60%);
  background-repeat: no-repeat;
  animation: particleDrift 24s ease-in-out infinite;
}

@keyframes particleDrift {
  0% {
    transform: translateY(0);
    filter: hue-rotate(0deg);
    background-position:
      0px 0px,  0px 0px,  0px 0px,  0px 0px,  0px 0px;
  }
  50% {
    transform: translateY(-6px);
    filter: hue-rotate(-4deg);
    background-position:
      18px -14px, -22px 12px, 16px 9px, -16px -18px, 10px 18px;
  }
  100% {
    transform: translateY(0);
    filter: hue-rotate(0deg);
    background-position:
      0px 0px,  0px 0px,  0px 0px,  0px 0px,  0px 0px;
  }
}

/* Title typography override to use Poppins (clean, modern) */
.landing .title {
  font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, 'Helvetica Neue', Arial, sans-serif;
}

/* Start button: large, rounded, green gradient, glowing hover, ripple compatible */
.landing #start-quiz-button {
  width: min(90vw, 460px);
  padding: 14px 44px;
  border-radius: 28px;
  font-size: 18px;
  background: linear-gradient(135deg, var(--green-600), var(--green-500)) !important;
  color: #ffffff !important;
  box-shadow: 0 10px 26px rgba(27,94,32,0.45), inset 0 1px 0 rgba(255,255,255,0.25), 0 0 0 0 rgba(102,187,106,0.0);
  transition:
    background 220ms ease,
    transform 160ms ease,
    box-shadow 240ms ease,
    filter 200ms ease;
}

.landing #start-quiz-button:hover {
  background: linear-gradient(135deg, #2e7d32, #1b5e20) !important;
  transform: translateY(-2px);
  box-shadow:
    0 18px 36px rgba(27,94,32,0.55),
    0 0 0 6px rgba(102,187,106,0.18),
    inset 0 1px 0 rgba(255,255,255,0.22);
  filter: brightness(1.03);
}

.landing #start-quiz-button:active {
  transform: translateY(0) scale(0.985);
}

/* Input: rounded, semi-transparent, centered (glass style already present) */
.landing #user-name-input {
  width: min(90vw, 460px);
  padding: 14px 18px;
  border-radius: 18px;
  background: linear-gradient(180deg, rgba(255,255,255,0.18), rgba(255,255,255,0.08));
  border: 1px solid rgba(255,255,255,0.20);
  color: #eaf7ea;
  text-align: center;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.10), 0 1px 0 rgba(0,0,0,0.12);
  transition: transform 160ms ease, box-shadow 220ms ease, border-color 200ms ease, background 220ms ease;
}

.landing #user-name-input:focus {
  transform: translateY(-1px) scale(1.02);
  border-color: rgba(102,187,106,0.70);
  box-shadow: 0 0 0 6px rgba(102,187,106,0.12), 0 14px 30px rgba(0,0,0,0.25);
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  body,
  .landing::before,
  .landing::after,
  .bg-particles,
  .landing .card,
  .landing .leaves .leaf {
    animation: none !important;
    transition: none !important;
  }
}

/* ===== Landing Overrides and Welcome Mode (take precedence by appending at EOF) ===== */

/* Neutralize the outer glass container on welcome so background/particles breathe */
#user-interface.centered.welcome-mode {
  width: 100%;
  max-height: none;
  overflow: visible;
  padding: 0;
  background: transparent;
  border: none;
  box-shadow: none;
  border-radius: 0;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
  animation: none;
}

/* Clean typography override for the hero title (ensure Poppins is used) */
#user-interface .landing .title {
  font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, 'Helvetica Neue', Arial, sans-serif;
  font-weight: 700;
  letter-spacing: 0.4px;
  text-shadow: 0 1px 0 rgba(0,0,0,0.35);
}

/* Subtitle tone (soft, supportive) */
#user-interface .landing .subtitle {
  color: var(--text-muted);
  margin: -2px 0 6px;
  font-weight: 400;
  letter-spacing: 0.2px;
}

/* Input: rounded, semi-transparent glass with gentle focus ring */
#user-interface .landing #user-name-input {
  width: min(90vw, 460px);
  padding: 14px 18px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.22);
  background: linear-gradient(180deg, rgba(255,255,255,0.18), rgba(255,255,255,0.08));
  color: #eaf7ea;
  text-align: center;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.10), 0 1px 0 rgba(0,0,0,0.12);
  transition: transform 160ms ease, box-shadow 220ms ease, border-color 200ms ease, background 220ms ease;
}
#user-interface .landing #user-name-input:focus {
  transform: translateY(-1px) scale(1.02);
  border-color: rgba(102,187,106,0.70);
  box-shadow: 0 0 0 6px rgba(102,187,106,0.12), 0 14px 30px rgba(0,0,0,0.25);
}

/* Start button: large, rounded, green gradient, glowing hover; ripple already provided by JS */
#user-interface .landing #start-quiz-button {
  width: min(90vw, 460px);
  padding: 14px 44px;
  border-radius: 28px;
  font-size: 18px;
  background: linear-gradient(135deg, var(--green-600), var(--green-500)) !important;
  color: #ffffff !important;
  box-shadow: 0 10px 26px rgba(27,94,32,0.45), inset 0 1px 0 rgba(255,255,255,0.25), 0 0 0 0 rgba(102,187,106,0.0);
  transition:
    background 220ms ease,
    transform 160ms ease,
    box-shadow 240ms ease,
    filter 200ms ease;
}
#user-interface .landing #start-quiz-button:hover {
  background: linear-gradient(135deg, #2e7d32, #1b5e20) !important;
  transform: translateY(-2px);
  box-shadow:
    0 18px 36px rgba(27,94,32,0.55),
    0 0 0 6px rgba(102,187,106,0.18),
    inset 0 1px 0 rgba(255,255,255,0.22);
  filter: brightness(1.03);
}
#user-interface .landing #start-quiz-button:active {
  transform: translateY(0) scale(0.985);
}

/* Respect reduced motion: also stop hero layers */
@media (prefers-reduced-motion: reduce) {
  #user-interface.centered.welcome-mode,
  #user-interface .landing .card,
  #user-interface .bg-particles,
  #user-interface .landing .leaves .leaf {
    animation: none !important;
    transition: none !important;
  }
}

/* === Alignment fixes for welcome input + start button === */
/* B1: We make the card a flex box. This helps us center things inside. */
#user-interface .landing .card {
  display: flex;           /* B1: put items in a column */
  flex-direction: column;  /* B1: vertical layout */
  align-items: center;     /* B1: center items left-right */
}

/* B1: This box holds the input and the start button. We center it. */
#user-interface .landing .actions {
  display: flex;           /* B1: stack input and button */
  flex-direction: column;
  align-items: center;
  gap: 12px;               /* B1: small space between them */
  width: 100%;
  max-width: 460px;        /* Constrain inner content to card, avoid overflow */
  margin: 0 auto;          /* Center actions container horizontally */
  margin-top: auto;        /* B1: push from top */
  margin-bottom: auto;     /* B1: push from bottom -> moves to center */
}

/* B1: Make input and button same width and centered */
#user-interface .landing .actions > #user-name-input,
#user-interface .landing .actions > #start-quiz-button {
  width: 100%;             /* Fill actions container, respect max-width */
  margin: 0;               /* Container handles centering */
  display: block;
}
